# Scribbly Notes - Web App

A modern, responsive web application for managing notes with Firebase integration. This app allows users to create, edit, organize, and sync their notes across devices.

## Features

- 🔐 **User Authentication**: Sign up and sign in with email/password
- 📝 **Note Management**: Create, edit, and delete notes
- 🏷️ **Labels**: Organize notes with custom labels
- 📌 **Pin Notes**: Pin important notes to the top
- 🎨 **Color Coding**: Choose from 12 different background colors
- ☑️ **Checklists**: Add interactive checklists to your notes
- 🔍 **Filtering**: Filter notes by labels
- 📱 **Responsive Design**: Works on desktop, tablet, and mobile
- ☁️ **Cloud Sync**: All data is synced with Firebase

## Tech Stack

- **Frontend**: React 19, Material-UI
- **Backend**: Firebase (Authentication, Firestore)
- **Routing**: React Router DOM
- **State Management**: React Context API

## Firebase Data Structure

### Users Collection
```javascript
// Document ID: user's UID (from Firebase Auth)
{
  "name": "User's Name",
  "email": "user@example.com"
}
```

### Notes Collection
```javascript
// Document ID: auto-generated by Firestore
{
  "userId": "user_uid_here", // Reference to user
  "title": "Note Title",
  "content": "Note content text",
  "isPinned": true/false,
  "backgroundColor": "#FFFFFF", // Hex color string
  "timeStamp": 1703123456789, // Unix timestamp
  "labels": ["work", "personal", "ideas"], // Array of label strings
  "checkList": "[]" // JSON string of checklist items
}
```

### Labels Collection
```javascript
// Document ID: user's UID (same as user document)
{
  "labels": ["work", "personal", "ideas", "todo"] // Array of label strings
}
```

## Setup Instructions

### 1. Clone the Repository
```bash
git clone <repository-url>
cd scribbly
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Firebase Configuration

1. Create a new Firebase project at [Firebase Console](https://console.firebase.google.com/)
2. Enable Authentication with Email/Password sign-in method
3. Create a Firestore database
4. Get your Firebase configuration:
   - Go to Project Settings
   - Scroll down to "Your apps"
   - Click on the web app icon
   - Copy the configuration object

5. Update the Firebase configuration in `src/firebase.js`:
```javascript
const firebaseConfig = {
  apiKey: "your-api-key",
  authDomain: "your-project.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project.appspot.com",
  messagingSenderId: "your-sender-id",
  appId: "your-app-id"
};
```

### 4. Firestore Security Rules

Set up the following security rules in your Firestore database:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users can only read/write their own user document
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    // Users can only read/write their own notes
    match /notes/{noteId} {
      allow read, write: if request.auth != null && request.auth.uid == resource.data.userId;
      allow create: if request.auth != null && request.auth.uid == request.resource.data.userId;
    }
    
    // Users can only read/write their own labels
    match /labels/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

### 5. Run the Application
```bash
npm start
```

The application will open at `http://localhost:3000`

## Usage

### Authentication
- Sign up with your email and password
- Sign in with your credentials
- Your session will persist until you log out

### Creating Notes
1. Click the floating "+" button to create a new note
2. Add a title and content
3. Choose a background color
4. Add labels for organization
5. Create checklist items if needed
6. Pin the note if it's important
7. Click "Create" to save

### Managing Notes
- **Edit**: Click the edit icon on any note
- **Delete**: Click the delete icon (with confirmation)
- **Pin**: Use the pin checkbox in the note editor
- **Filter**: Use the label filter dropdown to show specific notes

### Labels
- Add labels while creating or editing notes
- Labels are automatically saved to your account
- Use the filter dropdown to show notes with specific labels

## API Usage Examples

### Get User Data
```javascript
const userDoc = await getDoc(doc(db, 'users', userId));
const userData = userDoc.data(); // {name: "John", email: "john@example.com"}
```

### Get User's Notes
```javascript
const q = query(
  collection(db, 'notes'),
  where('userId', '==', userId),
  orderBy('isPinned', 'desc'),
  orderBy('timeStamp', 'desc')
);
const notesSnapshot = await getDocs(q);
const notes = notesSnapshot.docs.map(doc => ({
  id: doc.id,
  ...doc.data()
}));
```

### Create New Note
```javascript
await addDoc(collection(db, 'notes'), {
  userId: userId,
  title: "New Note",
  content: "Note content",
  isPinned: false,
  backgroundColor: "#FFFFFF",
  timeStamp: Date.now(),
  labels: ["work"],
  checkList: "[]"
});
```

### Update Labels
```javascript
await setDoc(doc(db, 'labels', userId), {
  labels: ["work", "personal", "new-label"]
});
```

## Checklist Structure
```javascript
[
  {
    "text": "Task 1",
    "isChecked": false
  },
  {
    "text": "Task 2", 
    "isChecked": true
  }
]
```

## Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## License

This project is licensed under the MIT License.

## Support

For support, please open an issue in the GitHub repository or contact the development team.
